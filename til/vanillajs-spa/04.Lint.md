# [VanillaJS SPA] Configure Development Environment with Lint

- 프로젝트 구성 참고 : https://github.com/gloriaJun/react-ts-realworld-example-app

정적인 코드 스타일 체크를 위하여 Lint, Prettier, CommitLint 등을 설정한다.

## Configure Lint

- https://junhojang.github.io/eslint/nodejs/eslint/

eslint를 설치해준다.

```bash
yarn add -D eslint
```

기본적인 eslint 설정 파일 생성을 위해 다음과 같이 커맨드를 실행한다.

```bash
npx eslint --init
# or
./node_modules/.bin/eslint --init
```

### Install Additional plugins

추가적으로 필요한 lint 규칙이 미리 정의된 플러그인을 설치한다.

- eslint-config-airbnb-base : 기본적으로 많이 사용하는 airbnb 에서 정의한 규칙을 적용. vanilla javascript 환경이므로 기본적인 규칙이 적용된 플러그인 선택
- eslint-plugin-import : ES6의 import, export 구문을 지원해주는 플러그인
-

```bash
yarn add -D eslint-config-airbnb-base eslint-plugin-import
```

그리고 TypeScript를 사용하고 있으므로 이에 관련된 플러그인도 추가로 설치해준다.

```bash
yarn add -D @typescript-eslint/eslint-plugin @typescript-eslint/parser
```

추가적으로 설치한 플러그인들을 설정 파일에 추가해준다.

```javascript
// eslintrc.js
module.exports = {
  parser: "@typescript-eslint/parser",
  plugins: ["@typescript-eslint", "prettier"],
  extends: [
    "airbnb", // or airbnb-base
    "plugin:react/recommended",
    "plugin:jsx-a11y/recommended", // 설치 한경우
    "plugin:import/errors", // 설치한 경우
    "plugin:import/warnings", // 설치한 경우
    "plugin:@typescript-eslint/recommended",
    "plugin:prettier/recommended",
  ],
  rules: {
    "linebreak-style": 0,
    "import/prefer-default-export": 0,
    "import/extensions": 0,
    "no-use-before-define": 0,
    "import/no-unresolved": 0,
    "react/react-in-jsx-scope": 0,
    "import/no-extraneous-dependencies": 0, // 테스트 또는 개발환경을 구성하는 파일에서는 devDependency 사용을 허용
    "no-shadow": 0,
    "react/prop-types": 0,
    "react/jsx-filename-extension": [
      2,
      { extensions: [".js", ".jsx", ".ts", ".tsx"] },
    ],
    "jsx-a11y/no-noninteractive-element-interactions": 0,
    "@typescript-eslint/explicit-module-boundary-types": 0,
  },
  settings: {
    "import/resolver": {
      node: {
        extensions: [".js", ".jsx", ".ts", ".tsx"],
      },
    },
  },
};
```

### Customizing rules

플러그인에서 정의된 규칙 외에 추가로 필요한 규칙들을 정의해준다.

```javascript
// eslintrc.js
```

`.prettierrc` 파일을 생성 및 아래와 같이 정의해준다.

- ref : https://prettier.io/docs/en/options.html

```javascript
//.prettierrc
{
  "singleQuote": true,
  "semi": true,
  "useTabs": false,
  "tabWidth": 2,
  "trailingComma": "all",
  "printWidth": 80,
  "arrowParens": "always",
  "orderedImports": true,
  "bracketSpacing": true,
  "jsxBracketSameLine": false
}
```

## Configure Prettier

```bash
yarn add -D prettier eslint-plugin-prettier eslint-config-prettier
```

prettier로 인하여 설치된 eslint 플러그인을 `eslintrc.js` 파일에 추가해준다.

```javascript
// eslintrc.js
```

=======

handlebars - html template를 사용하기 위한 템플릿 엔진
handlebars-loader - webpack에서 handlebars를 사용하기 위한 로더

webpack 환경 구성 후에 다음과 같은 도구들도 같이 설치하였다.

- eslint
- prettier
- lint-staged
- husky
- commitlint

```bash
# lint & prettier
yarn add -D

# husky & lint-staged
yarn add husky lint-staged --dev

# commitlint
yarn add -D @commitlint/cli @commitlint/config-conventional
```

## References

- https://junhojang.github.io/eslint/nodejs/eslint/
