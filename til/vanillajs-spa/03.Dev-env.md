# [VanillaJS SPA] Configure Development Environment with Webpack5

개발 코드가 변경될 때마다 반영을 위해 서버를 재시작해주는 것은 매우 비효율적이고 귀찮은 일인데, 이러한 부분 예방(?)을 위해서...
`nodemon`을 이용하여 적용할 수도 있지만, 다음과 같은 이유로 `webpack`을 사용하여 개발 환경을 재구성(?) 하였다.

- 다앙햔 브라우저 지원
- 번들링을 좀 더 원활하게 하기 위해
- HMR
- webpack5를 사용해보기 위해

## Installation

webpack 과 함께 다음과 같은 webpack 관련 모듈 및 babel을 설치한다.

- webpack 모듈

  - css-loader : css 사용을 위한 로더
  - mini-css-extract-plugin : css 결과물을 내보내기 위한 플러그인

- clean-webpack-plugin - 빌드 결과물(dist)을 초기화
- html-webpack-plugin - entry를 html에 동적 삽입과 html 결과물을 내보내기 위한 플러그인

handlebars - html template를 사용하기 위한 템플릿 엔진
handlebars-loader - webpack에서 handlebars를 사용하기 위한 로더

- babel
  - @babel/core : 트랜스파일러 모듈
  - @babel/preset-env : 트랜스파일링 기본 preset 모듈
  - babel-loader : 트랜스파일링 하기위한 파일 loader

```bash
# webpack
yarn add -D webpack webpack-cli webpack-dev-server

## css module
yarn add -D css-loader mini-css-extract-plugin

# webpack modules
yarn add -D clean-webpack-plugin css-loader mini-css-extract-plugin html-webpack-plugin

## for typescript
yarn add -D ts-loader

## babel
yarn add -D @babel/core @babel/preset-env babel-loader
```

## Configure Lint

webpack 환경 구성 후에 다음과 같은 도구들도 같이 설치하였다.

- eslint
- prettier
- lint-staged
- husky
- commitlint

```bash
# lint & prettier
yarn add -D eslint @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-prettier eslint-plugin-prettier prettier

# husky & lint-staged
yarn add husky lint-staged --dev

# commitlint
yarn add -D @commitlint/cli @commitlint/config-conventional
```

## References

- https://ibrahimovic.tistory.com/47
- https://code-examples.net/ko/q/2199e0b
- https://velopert.com/1492
- https://jeonghwan-kim.github.io/dev/2020/07/18/webpack-dev-middleware.html
- https://velog.io/@dami/Node.js-Webpack-dev-middleware-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0
- https://kdydesign.github.io/2020/10/06/spa-route-tutorial/
- https://github.com/precz/vanilla-es6-webpack
- https://intrepidgeeks.com/tutorial/use-vanilla-js-to-realize-spa-bulletin-board
